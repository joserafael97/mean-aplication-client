<div class="main-div">

    <mat-card class="sga-card">
        <mat-card-header>
            <mat-card-title>Cadastro</mat-card-title>
        </mat-card-header>
        <form [formGroup]="funcionarioForm" (ngSubmit)="cadastrar()">

            <mat-card-content>

                <mat-form-field class="full-width">
                    <mat-label>Nome Completo</mat-label>
                    <input matInput placeholder="Nome Completo" name="nome" required formControlName="nome">
                    <mat-error *ngIf="form.nome.errors?.required">
                        O nome é requerido
                    </mat-error>
                </mat-form-field>

                <mat-form-field class="full-width">
                    <input matInput [matDatepicker]="picker" placeholder="Data Contratação" required
                        formControlName="contratacao">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                    <mat-error *ngIf="form.contratacao.errors?.required">
                        A data da contratação é requerida
                    </mat-error>
                </mat-form-field>
                <table class="full-width" cellspacing="0">
                    <tr>
                        <td>
                            <mat-form-field class="full-width">
                                <mat-label>Cargo</mat-label>
                                <mat-select required formControlName="cargo" (selectionChange)="validaNivel($event)">
                                    <mat-option *ngFor="let value of keys(cargos)" [(value)]="cargos[value]">
                                        {{cargos[value]}}
                                    </mat-option>
                                </mat-select>
                                <mat-error *ngIf="form.cargo.errors?.required">
                                    O cargo é requerido
                                </mat-error>
                            </mat-form-field>
                        </td>
                        <td>
                            <mat-form-field>
                                <mat-label>Nível</mat-label>
                                <mat-select required formControlName="nivel" matNativeControl
                                    [disabled]="nivelItemDesativado">
                                    <mat-option *ngFor="let value of listaNiveis" [(value)]="value">
                                        {{value}}
                                    </mat-option>

                                </mat-select>
                                <mat-error *ngIf="form.nivel.errors?.required">
                                    O nível é requerido
                                </mat-error>
                            </mat-form-field>
                        </td>

                    </tr>
                </table>

                <mat-form-field class="full-width">
                    <mat-label>Username</mat-label>
                    <input matInput placeholder="Username" name="username" required formControlName="username">
                    <mat-error *ngIf="form.username.errors?.required">
                        O username é requerido
                    </mat-error>
                </mat-form-field>
                <mat-form-field class="full-width">
                    <mat-label>Senha</mat-label>
                    <input matInput placeholder="Senha" name="senha" type="password" required formControlName="senha">
                    <mat-error *ngIf="form.senha.errors?.required">
                        A Senha é requerida
                    </mat-error>
                    <mat-error *ngIf="form.senha.errors?.minlength">
                        A senha deve ter ao menos 5 caracteres
                    </mat-error>
                </mat-form-field>

                <mat-form-field class="full-width">
                    <mat-label>Confirme a senha</mat-label>
                    <input matInput placeholder="Senha" name="senha" type="password" required
                        formControlName="confirmacaoSenha">
                    <mat-error *ngIf="form.confirmacaoSenha.errors?.required">
                        A Senha é requerida
                    </mat-error>
                    <mat-error *ngIf="form.confirmacaoSenha.errors?.minlength">
                        A senha deve ter ao menos 5 caracteres
                    </mat-error>
                    <mat-error *ngIf="form.confirmacaoSenha.errors?.devemSerIguais">
                        As senhas não conferem
                    </mat-error>
                </mat-form-field>


            </mat-card-content>
            <mat-card-actions>
                <button mat-raised-button color="primary">Cadastrar</button>
            </mat-card-actions>
        </form>

    </mat-card>
</div>